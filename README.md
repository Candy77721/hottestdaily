# X

## todos

- [ ] 优化瀑布流滚动监听，即节流
- [ ] 优化瀑布流高度检测，确保多列基本保持高度一致
- [ ] 优化瀑布流显示数据，做到维持只显示90条左右，提升性能
- [ ] 瀑布流页面 loading 动画，及 回到顶部 功能与动画
- [ ] 瀑布流总计可以获得10次数据，共300个，到底提示用户
- [ ] 用户信息验证
- [ ] 模态框动画
- [ ] 重构用户组件css代码
- [X] 背景图适应问题
  - 使用伪元素的`fixed`代替`background-attachment`
- [ ] 一些代码需要异步处理
- [ ] 菜单动画
- [ ] 重定向不会使路由 active 问题
- [ ] echarts 重新渲染时无法加载数据问题
- [ ] 使用 vuex 的命名空间

## 更新日志

### 2017.1.10

- 完成新闻页面瀑布流基本代码，实现移动到页面底端（150px）时加载更多数据
- 优化：
    - 确保只会加载一次。
    - 向最短的列加载

### 2017.1.11

- 完成用户登陆界面
- 更新 CRSF 对应代码
- 优化：
  - 现在瀑布流会按11，10，9的数量向三列填充内容

### 2017.1.12

- 更新：
  - 现在页面首次加载后（app.vue挂载后）将验证一次用户信息
  - 现在 getNews 时会带上 page 和 type
  - 完成 用户登陆，注册，找回密码 功能
  - 完成 精选热文 的 css 代码
  - 完成 topBar 的 css 代码
  - 添加 精选热文 的分类选择
  - 可以正确切换分类并处理数据
- 优化
  - 简化 精选热文 挂载时和切换分类时的检查逻辑

  css 的 box-shadow 被挡住 则将自身设置为relative
  关于 relative 遮挡其他元素问题。须将被遮挡元素的最外层父元素设置 z-index ，如果只设置本身，则会因为父元素没有设置而失败

### 2017.1.13

- 更新
  - 现在 精选热文 可以正确的请求数据了
- 优化
  - 简化 精选热文 切换时数据的判断逻辑

### 2017.1.14

- 更新
  - 现在 精选热文 的分类栏已经可以正常显示
  - 现在 用户模态框 拥有动画

### 2017.1.15

- 解决 `stacking context` 引发的问题
- 解决 位移过渡 引发的问题
- 更新
  - 修复 topbar 两级动画错误问题
  - 修复 topbar 阴影层次不正常问题

### 2017.1.16

- 更新
  - 现在主要分类更改为 今日热词，时下热文，热词榜
  - 路由做相应的更新
  - topbar 改版
    - 现在 菜单 和 用户 采用同样的展示方式
    - 时下热文 的分类被单独划分出
  - 今日热词 页面已经可以展示图表

### 2017.1.17

- 更新
  - 现在 今日热词，时下热文，热词榜 组件开始异步加载

### 2017.1.19

- 更新
  - 新增 搜索 页面
  - 现在 今日热词，时下热文，热词榜，搜索 都有共同的背景

### 2017.1.21

- 更新
  - 关系图 现在也开始使用 mock.js 返回测试数据
  - 更新 首页 的 名称
  - vuex 的模块中暴露的东西开始使用模块名为前缀
